<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="homestyle.css" />
  </head>
  <body>
    <div class="container">
      <nav>
        <h1>MovieRec</h1>
        <ul>
          <li>Watch List</li>
          <li>See Recommended</li>
        </ul>
        <button class="profile"><img src="profile.png" alt="" /></button>
      </nav>
      <div class="wrapper">
        <div class="search">
          <form>
            <input
              type="text"
              placeholder="Search for movie"
              id="searchInput"
              onkeyup="search(event)"
            />
            <button type="submit" class="btn">Search</button>
          </form>
          <ul class="result" id="searchResults">
            <li>
              <i class="fa-solid fa-magnifying-glass"></i>
              <a href="#">upCoding</a>
            </li>
            <li>
              <i class="fa-solid fa-magnifying-glass"></i>
              <a href="#">youtube</a>
            </li>
            <li>
              <i class="fa-solid fa-magnifying-glass"></i>
              <a href="#">how to code</a>
            </li>
            <li>
              <i class="fa-solid fa-magnifying-glass"></i>
              <a href="#">movie rec</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="content">
        <h1><br />Trending Movies</h1>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('searchInput');
  const searchResults = document.getElementById('searchResults');

  // Initially hide the search results
  searchResults.style.display = 'none';

  searchInput.addEventListener('input', function() {
    const searchText = this.value.trim();
  
    // If search text is empty, hide the results
    if (searchText === '') {
      searchResults.style.display = 'none';
    } else {
      // Otherwise, show the results
      searchResults.style.display = 'block';
    }
  });
});



let keywords = [
    "Youtube",
    "upCoding",
    "upCoding channel",
    "upCoding programming channel",
    "Youtube Channel",
    "Google",
    "Freelancer",
    "JavaScript tutorials",
    "Web developer",
    "Programming tutorials",
    "HTML CSS and JavaScript tutorials",
    "How to download video",
    "How to start programming channel",
    "How to learn javascript",
    "How to learn Angular",
    "How to learn React",
    "How to learn css",
];

let list = [];

const generateList = () => {
    // generates result list using li tag
    list = list.map((data) => (data = liTag(data)));
};

const liTag = (value) => 
    `<li><i class="fa-solid fa-magnifying-glass"></i><a href="#">${value}</a></li>`;

const startsWith = (keyword, inputKeyword) =>
    // filters keywords using starting letter of text
    keyword.toLowerCase().startsWith(inputKeyword.toLowerCase());

const includes = (keyword, inputKeyword) =>
    // filters keywords using letter found anywhere in input text
    keyword.toLowerCase().includes(inputKeyword.toLowerCase());

const filter = (inputKeyword) => 
    (list = keywords.filter(
        (keyword) =>
            startsWith(keyword, inputKeyword) || includes(keyword, inputKeyword)
    ));

const showList = (inputKeyword) => {
    result.classList.add("show");
    result.innerHTML = list.join("") || liTag(inputKeyword);
};

const hideList = () => {
    list = [];
    result.innerHTML = '';
    result.classList.remove("show");
};

const search = (e) => {
    let keyword = e.target.value;

    if (keyword) {
        filter(keyword);
        generateList();
        showList(keyword);
    } else {
        hideList();
    }
};

const searchInput = document.getElementById('searchInput');
const result = document.getElementById('searchResults');

searchInput.addEventListener('input', search);

    </script>
  </body>
</html>
